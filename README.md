# TzSaaSoft - Система управления учетными записями

## Основные возможности

### Управление учетными записями
- **Создание и редактирование учетных записей**
- **Несколько типов учетных записей**
- **Безопасная обработка паролей**
- **Поиск учетных записей**

### Валидация и обработка ошибок
- **Валидация схем Zod**
- **Отображение ошибок в реальном времени**
- **Динамическая очистка ошибок**

### Особенности интерфейса
- **Адаптивный дизайн**
- **Компоненты PrimeVue**
- **Диалоги подтверждения**
- **Функция экспорта**

## Технический стек

- **Фреймворк**: Nuxt 3 (Vue 3)
- **Библиотека UI**: PrimeVue
- **Управление состоянием**: Pinia
- **Валидация**: Zod
- **Стилизация**: Tailwind CSS
- **Тестирование**: Vitest
- **Менеджер пакетов**: pnpm

## Начало работы

### Предварительные требования
- Node.js (версия 16 или выше)
- Менеджер пакетов pnpm

### Установка

```bash
# Клонирование репозитория
git clone <адрес-репозитория>

# Переход в каталог проекта
cd tzSaaSoft

# Установка зависимостей
pnpm install
```

### Разработка

```bash
# Запуск сервера разработки
pnpm dev

# Приложение будет доступно по адресу http://localhost:3000
```

### Продакшн

```bash
# Сборка для продакшна
pnpm build

# Предварительный просмотр сборки продакшна
pnpm preview
```

### Тестирование

```bash
# Запуск модульных тестов
pnpm test

# Запуск тестов в режиме наблюдения
pnpm test:watch
```

## Структура проекта

```
tzSaaSoft/
├── app/
│   ├── assets/          # CSS и другие ресурсы
│   ├── components/      # Компоненты Vue
│   │   └── account/     # Компоненты, связанные с учетными записями
│   ├── composables/     # Composables Vue
│   ├── enums/           # Перечисления TypeScript
│   ├── pages/           # Страницы Nuxt
│   ├── schemas/         # Схемы валидации Zod
│   ├── stores/          # Хранилища Pinia
│   ├── test/            # Модульные тесты
│   └── types/           # Типы TypeScript
├── README_RU.md
└── package.json
```

## Правила валидации

### Поля учетной записи
- **Метка**: Необязательное поле, максимум 50 символов
- **Тип записи**: Обязательное поле, должно быть LOCAL или LDAP
- **Логин**: Обязательное поле, максимум 100 символов
- **Пароль**: 
  - Обязателен для учетных записей LOCAL
  - Необязателен (может быть пустым) для учетных записей LDAP
  - Максимум 100 символов для обоих типов

## Компоненты пользовательского интерфейса

### Основные компоненты
- `AccountList.vue`: Основной список учетных записей с функцией поиска
- `ConfirmDeleteDialog.vue`: Диалог подтверждения на основе PrimeVue для удаления
- `AccountActions.vue`: Кнопки действий для каждой учетной записи (редактирование/удаление)

### Компоненты полей
- `AccountLabel.vue`: Поле метки с возможностью редактирования
- `AccountRecordType.vue`: Селектор типа записи с валидацией
- `AccountLogin.vue`: Поле логина с валидацией
- `AccountPassword.vue`: Поле пароля с маскировкой и валидацией

## Подробности ключевых функций

### Типы учетных записей
- **LOCAL**: Требуется установка пароля
- **LDAP**: Поле пароля необязательно и скрыто в интерфейсе

### Сохранение данных
Данные учетных записей хранятся в хранилище Pinia и сохраняются в течение сессии.

### Экспорт
Экспорт всех учетных записей в файл JSON для резервного копирования или переноса данных.

## Команды разработки

| Команда              | Описание                                  |
|---------------------|-------------------------------------------|
| `pnpm dev`          | Запуск сервера разработки                 |
| `pnpm build`        | Сборка для продакшна                      |
| `pnpm preview`      | Предварительный просмотр сборки продакшна |
| `pnpm test`         | Запуск модульных тестов                   |
| `pnpm test:watch`   | Запуск тестов в режиме наблюдения         |
| `pnpm lint`         | Запуск ESLint                             |
| `pnpm lint:fix`     | Запуск ESLint с автоматическим исправлением ошибок |

## Тестирование

Проект включает в себя комплексные модульные тесты для схем валидации с использованием Vitest. Тесты охватывают:
- Валидные данные учетной записи для обоих типов LOCAL и LDAP
- Сценарии с недопустимыми данными с соответствующей обработкой ошибок
- Пограничные случаи, такие как максимальная длина полей
- Граничные условия и обработка специальных символов

Запустите тесты с помощью `pnpm test`, чтобы убедиться, что все правила валидации работают правильно.